<!DOCTYPE html>
<html>
<head>
    <style>
        body { margin: 0; padding: 0; background: #333; font-family: sans-serif; overflow: hidden; }
        #browser-chrome { background: #222; padding: 8px; display: flex; gap: 5px; height: 40px; align-items: center; border-bottom: 1px solid #000;}
        
        button { padding: 6px 12px; cursor: pointer; background: #444; color: white; border: none; border-radius: 4px; }
        button:hover { background: #555; }
        
        input#url-bar { 
            flex-grow: 1; padding: 8px; border-radius: 4px; border: none; outline: none; background: #fff; color: #000;
        }
    </style>
</head>
<body>
    <div id="browser-chrome">
        <button onclick="sendSignal('back')">&#8592;</button>
        <button onclick="sendSignal('forward')">&#8594;</button>
        <button onclick="sendSignal('refresh')">&#8635;</button>
        
        <input type="text" id="url-bar" placeholder="Search or type URL..." onkeydown="checkEnter(event)">
        
        <button onclick="navigate()">Go</button>
    </div>

    <script>
        // 1. Check for Enter key
        function checkEnter(event) {
            if (event.key === 'Enter') navigate();
        }

        // 2. Send the URL to C++ using a fake navigation request
        function navigate() {
            let val = document.getElementById('url-bar').value.trim();
            if (!val) return;

            // Simple search logic
            if (!val.includes('.') || val.includes(' ')) {
                val = 'https://www.google.com/search?q=' + encodeURIComponent(val);
            } else if (!val.startsWith('http')) {
                val = 'https://' + val;
            }

            // MAGIC TRICK: We change the location to a special "zyro://" URL.
            // C++ will catch this, cancel it, and load the REAL site in the bottom layer.
            window.location.href = "zyro://navigate/" + val;
        }

        function sendSignal(action) {
            window.location.href = "zyro://action/" + action;
        }
    </script>
</body>
</html>